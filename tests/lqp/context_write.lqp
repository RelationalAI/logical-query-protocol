(transaction
  (epoch
    (writes
      (define
        (fragment :f1
          (def :data ([x::INT] (= x 1)))))
      (context :rid1 :rid2))
    (reads
      (output :data :data)))
  (epoch
    (writes
      (define
        (fragment :f2
          (def :data2 ([x::INT] (= x 2)))))))
  (epoch
    (reads
      (output :data :data))))
