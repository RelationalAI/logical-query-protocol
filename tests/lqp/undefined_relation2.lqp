(transaction
  ;; In the first epoch we define a fragment with a rule referencing an undefined relation,
  ;; which should be treated as empty and not throw an error.
  (epoch
    (writes
      (define
        (fragment :f2
          (def :hello ([v::INT] (= v 101)))))
      (define
        (fragment :f1
          (def :output ([v::INT] (atom :hello v))))))
    (reads
      (output :epoch0 :output)))

  ;; In the second epoch we delete the definition.
  (epoch
    (writes
      (undefine :f2))
    (reads
      (output :epoch1 :output))))
