(transaction
  (configure { :ivm.maintenance_level "off" :semantics_version 0})
  (epoch
    (writes
      (define
        (fragment
          :model
          (def
            0x6840674ed01ced4f
            ([person::UINT128]
             (primitive
               :rel_primitive_hash_tuple_uint128
               "Person"
               "name"
               "Alice"
               "age"
               10
               person)))
          (def 0xfbbc2c538e81b805 ([person::UINT128] (atom 0x6840674ed01ced4f person)))
          (def
            0xb082d418a6071589
            ([person::UINT128 cvar::STRING]
             (and (= cvar "Alice") (atom 0x6840674ed01ced4f person))))
          (def
            0x83bb72ffe1698e89
            ([person::UINT128 cvar_2::INT]
             (and (= cvar_2 10) (atom 0x6840674ed01ced4f person))))
          (def
            0x74909c19481ff8bf
            ([person_2::UINT128]
             (primitive
               :rel_primitive_hash_tuple_uint128
               "Person"
               "name"
               "Bob"
               "age"
               30
               person_2)))
          (def 0xfe81dde3b67ff6d2 ([person_2::UINT128] (atom 0x74909c19481ff8bf person_2)))
          (def
            0x1302477b75c5b231
            ([person_2::UINT128 cvar_3::STRING]
             (and (= cvar_3 "Bob") (atom 0x74909c19481ff8bf person_2))))
          (def
            0xec3becce2c70570
            ([person_2::UINT128 cvar_4::INT]
             (and (= cvar_4 30) (atom 0x74909c19481ff8bf person_2))))
          (def
            0x7128e551be4ef7ab
            ([person_3::UINT128]
             (primitive
               :rel_primitive_hash_tuple_uint128
               "Person"
               "name"
               "Charlie"
               "age"
               50
               person_3)))
          (def 0xc1617e914f3bf3eb ([person_3::UINT128] (atom 0x7128e551be4ef7ab person_3)))
          (def
            0x2c7c7a582829d602
            ([person_3::UINT128 cvar_5::STRING]
             (and (= cvar_5 "Charlie") (atom 0x7128e551be4ef7ab person_3))))
          (def
            0xf76b2fbd07dba9b7
            ([person_3::UINT128 cvar_6::INT]
             (and (= cvar_6 50) (atom 0x7128e551be4ef7ab person_3))))
          (def
            0x9c3f5fe1be5efc0d
            ([pet::UINT128]
             (primitive :rel_primitive_hash_tuple_uint128 "Pet" "name" "boots" "age" 1 pet)))
          (def 0xd274bd27a48c663a ([pet::UINT128] (atom 0x9c3f5fe1be5efc0d pet)))
          (def
            0xd4d44f33b89fbc6f
            ([pet::UINT128 cvar_7::STRING]
             (and (= cvar_7 "boots") (atom 0x9c3f5fe1be5efc0d pet))))
          (def
            0x9bbf8ea02f4e2e77
            ([pet::UINT128 cvar_8::INT] (and (= cvar_8 1) (atom 0x9c3f5fe1be5efc0d pet))))
          (def
            0xdcd207982df473e5
            ([pet_2::UINT128]
             (primitive
               :rel_primitive_hash_tuple_uint128
               "Pet"
               "name"
               "fluffy"
               "age"
               3
               pet_2)))
          (def 0xbcc16f2c1e97f5fb ([pet_2::UINT128] (atom 0xdcd207982df473e5 pet_2)))
          (def
            0x3cf86dec0d85fe5f
            ([pet_2::UINT128 cvar_9::STRING]
             (and (= cvar_9 "fluffy") (atom 0xdcd207982df473e5 pet_2))))
          (def
            0xa3dc3de98f619aea
            ([pet_2::UINT128 cvar_10::INT]
             (and (= cvar_10 3) (atom 0xdcd207982df473e5 pet_2))))
          (def
            0x550ccdfd1d168da2
            ([person_3::UINT128 pet::UINT128]
             (and
               (primitive
                 :rel_primitive_hash_tuple_uint128
                 "Person"
                 "name"
                 "Charlie"
                 "age"
                 50
                 person_3)
               (primitive
                 :rel_primitive_hash_tuple_uint128
                 "Pet"
                 "name"
                 "boots"
                 "age"
                 1
                 pet))))
          (def
            0xe91a73771a29a1a6
            ([person_3::UINT128 pet_2::UINT128]
             (and
               (primitive
                 :rel_primitive_hash_tuple_uint128
                 "Person"
                 "name"
                 "Charlie"
                 "age"
                 50
                 person_3)
               (primitive
                 :rel_primitive_hash_tuple_uint128
                 "Pet"
                 "name"
                 "fluffy"
                 "age"
                 3
                 pet_2))))
          (def
            0x6007db63e18e532c
            ([person_4::UINT128]
             (or
               (atom 0xfbbc2c538e81b805 person_4)
               (atom 0xfe81dde3b67ff6d2 person_4)
               (atom 0xc1617e914f3bf3eb person_4))))
          (def
            0x8f0d1b30eba57426
            ([pet_3::UINT128]
             (or (atom 0xd274bd27a48c663a pet_3) (atom 0xbcc16f2c1e97f5fb pet_3))))
          (def
            0x3be1d422a46085e1
            ([person_5::UINT128 pet_4::UINT128]
             (or
               (atom 0x550ccdfd1d168da2 person_5 pet_4)
               (atom 0xe91a73771a29a1a6 person_5 pet_4))))
          (def
            0x82a3537ff0dbce7e
            ([person_6::UINT128 name::STRING]
             (or
               (atom 0xb082d418a6071589 person_6 name)
               (atom 0x1302477b75c5b231 person_6 name)
               (atom 0x2c7c7a582829d602 person_6 name))))
          (def
            0x76975bdae91351e0
            ([pet_5::UINT128 name_2::STRING]
             (or
               (atom 0xd4d44f33b89fbc6f pet_5 name_2)
               (atom 0x3cf86dec0d85fe5f pet_5 name_2))))
          (def
            0x13f54400c82da08
            ([person_7::UINT128 age::INT]
             (or
               (atom 0x83bb72ffe1698e89 person_7 age)
               (atom 0xec3becce2c70570 person_7 age)
               (atom 0xf76b2fbd07dba9b7 person_7 age))))
          (def
            0xe55f0c9bee47a77d
            ([pet_6::UINT128 age_2::INT]
             (or
               (atom 0x9bbf8ea02f4e2e77 pet_6 age_2)
               (atom 0xa3dc3de98f619aea pet_6 age_2))))))))
  (epoch
    (writes
      (define
        (fragment
          :query
          (def
            0xe0ee8bb50685e05f
            ([cvar::STRING cvar_2::STRING person::UINT128 name::STRING]
             (and
               (= cvar "cols")
               (= cvar_2 "col000")
               (atom 0x82a3537ff0dbce7e person name)
               (not (exists [pet::UINT128] (atom 0x3be1d422a46085e1 person pet)))
               (atom 0x6007db63e18e532c person)))))))
    (reads (output :output_0 0xe0ee8bb50685e05f))))

;; Debug information
;; -----------------------
;; Original names
;; 	 ID `0x6007db63e18e532c` -> `Person`
;; 	 ID `0xfbbc2c538e81b805` -> `Person_1`
;; 	 ID `0xfe81dde3b67ff6d2` -> `Person_2`
;; 	 ID `0xc1617e914f3bf3eb` -> `Person_3`
;; 	 ID `0x8f0d1b30eba57426` -> `Pet`
;; 	 ID `0xd274bd27a48c663a` -> `Pet_1`
;; 	 ID `0xbcc16f2c1e97f5fb` -> `Pet_2`
;; 	 ID `0x6840674ed01ced4f` -> `_intermediate_1`
;; 	 ID `0x74909c19481ff8bf` -> `_intermediate_2`
;; 	 ID `0x7128e551be4ef7ab` -> `_intermediate_3`
;; 	 ID `0x9c3f5fe1be5efc0d` -> `_intermediate_4`
;; 	 ID `0xdcd207982df473e5` -> `_intermediate_5`
;; 	 ID `0x13f54400c82da08` -> `age`
;; 	 ID `0x83bb72ffe1698e89` -> `age_1`
;; 	 ID `0x9bbf8ea02f4e2e77` -> `age_1_2`
;; 	 ID `0xec3becce2c70570` -> `age_2`
;; 	 ID `0xa3dc3de98f619aea` -> `age_2_2`
;; 	 ID `0xf76b2fbd07dba9b7` -> `age_3`
;; 	 ID `0xe55f0c9bee47a77d` -> `age_4`
;; 	 ID `0x82a3537ff0dbce7e` -> `name`
;; 	 ID `0xb082d418a6071589` -> `name_1`
;; 	 ID `0xd4d44f33b89fbc6f` -> `name_1_2`
;; 	 ID `0x1302477b75c5b231` -> `name_2`
;; 	 ID `0x3cf86dec0d85fe5f` -> `name_2_2`
;; 	 ID `0x2c7c7a582829d602` -> `name_3`
;; 	 ID `0x76975bdae91351e0` -> `name_4`
;; 	 ID `0xe0ee8bb50685e05f` -> `output`
;; 	 ID `0x3be1d422a46085e1` -> `pets`
;; 	 ID `0x550ccdfd1d168da2` -> `pets_1`
;; 	 ID `0xe91a73771a29a1a6` -> `pets_2`
