(transaction
  (epoch
    (writes
      (define
        (fragment :f1
          (def :R ([a::INT b::INT c::INT]
            (or
              (and (= a 1) (= b 2) (= c 0))
              (and (= a 1) (= b 3) (= c 0))
              (and (= a 1) (= b 4) (= c 0)))))
          (def :S ([b::INT a::INT]
            (or
              (and (= b 2) (= a 1))
              (and (= b 3) (= a 1))
              (and (= b 4) (= a 1)))))
          (def :foo ([a::INT b::INT c::INT]
            (and
              (atom :R a b c)
              (atom :S b a)
              (pragma :rel_primitive_force_var_order c b a)))))))
    (reads
      (output :foo :foo))))
