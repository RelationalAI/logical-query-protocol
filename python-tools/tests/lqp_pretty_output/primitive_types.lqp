(transaction
  (epoch
    (writes
      (define
        (fragment :f1
          (def :int
            ([v::INT]
              (primitive :rel_primitive_eq v 21::INT)))
          (def :int128_s
            ([v::INT128]
              (primitive :rel_primitive_eq v 21::INT128)))
          (def :int128_l
            ([v::INT128]
              (primitive :rel_primitive_eq v 85968058283706962486085::INT128)))
          (def :uint128
            ([v::UINT128]
              (primitive :rel_primitive_eq v 0x123456789abcdef12345::UINT128)))
          (def :float
            ([v::FLOAT]
              (primitive :rel_primitive_eq v 1.23::FLOAT)))
          (def :str
            ([v::STRING]
              (primitive :rel_primitive_eq v "hello"::STRING)))
          (def :output_int
            ([v::INT]
              (and
                (primitive :rel_primitive_eq v 21::INT)
                (atom :int 21::INT))))
          (def :output_int128_s
            ([v::INT128]
              (and
                (primitive :rel_primitive_eq v 21::INT128)
                (atom :int128_s 21::INT128))))
          (def :output_int128_l
            ([v::INT128]
              (and
                (primitive :rel_primitive_eq v 85968058283706962486085::INT128)
                (atom :int128_l 85968058283706962486085::INT128))))
          (def :output_uint128
            ([v::UINT128]
              (and
                (primitive :rel_primitive_eq v 0x123456789abcdef12345::UINT128)
                (atom :uint128 0x123456789abcdef12345::UINT128))))
          (def :output_float
            ([v::FLOAT]
              (and
                (primitive :rel_primitive_eq v 1.23::FLOAT)
                (atom :float 1.23::FLOAT))))
          (def :output_str
            ([v::STRING]
              (and
                (primitive :rel_primitive_eq v "hello"::STRING)
                (atom :str "hello"::STRING)))))))
    (reads
      (output :int :output_int)
      (output :int128_s :output_int128_s)
      (output :int128_l :output_int128_l)
      (output :uint128 :output_uint128)
      (output :float :output_float)
      (output :str :output_str))))
