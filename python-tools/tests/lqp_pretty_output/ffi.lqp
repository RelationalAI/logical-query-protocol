(transaction
  (epoch
    (writes
      (define
        (fragment :primitives
          (def :numbers
            ([v::INT]
              (or
                (primitive :rel_primitive_eq v 5::INT)
                (primitive :rel_primitive_eq v 12::INT)
                (primitive :rel_primitive_eq v 3::INT))))
          (def :sorted_numbers
            ([ord::INT v::INT]
              (ffi :rel_primitive_sort
                (args
                  ([x::INT]
                    (atom :numbers x)))
                (terms ord v))))
          (def :limit_sorted_numbers
            ([ord::INT v::INT]
              (ffi :rel_primitive_top
                (args
                  ([x::INT]
                    (atom :numbers x))
                  ([limit::INT]
                    (primitive :rel_primitive_eq limit 2::INT)))
                (terms ord v)))))))
    (reads
      (output :numbers :numbers)
      (output :limit_sorted_numbers :limit_sorted_numbers)
      (output :sorted_numbers :sorted_numbers))))
