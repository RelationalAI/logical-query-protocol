;; ERROR: Undeclared variable used: 'some_limit'
(fragment :frag
  (def :person
    ([name::STRING age::INT] ;; Declare name, age
     (and
       (atom :source name age) ;; OK: name, age are declared
       (= age some_limit))))) ;; FAIL: some_limit is not declared
