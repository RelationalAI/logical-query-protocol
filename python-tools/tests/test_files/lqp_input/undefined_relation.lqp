(transaction
  ;; In the first epoch we define a fragment with a rule referencing an undefined relation,
  ;; which should be treated as empty and not throw an error.
  (epoch
    (persistent_writes
      (define
        (fragment :f1
          (def :output ([v::INT] (atom :hello v))))))
    (reads
      (output :epoch0 :output)
      (output :nonexistent :nonexistent)))

  ;; In the second epoch we add a definition for the previously undefined relation.
  (epoch
    (persistent_writes
      (define
        (fragment :f2
          (def :hello ([v::INT] (= v 101))))))
    (reads
      (output :epoch1 :output))))
